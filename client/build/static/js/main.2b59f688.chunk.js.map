{"version":3,"sources":["components/Message.js","components/Progress.js","components/DateTime.js","components/Description.js","components/ContactWay.js","components/ReportForm.js","components/dinner.png","components/DialogUpdate.js","components/DialogDelete.js","components/ExistedReport.js","components/Main.js","App.js","index.js"],"names":["Message","msg","className","role","type","data-dismiss","aria-label","aria-hidden","Progress","percentage","style","width","DateTime","props","fullDate","dateTime","Date","formatted_date","getFullYear","getMonth","getDate","getHours","getMinutes","useState","setDateTime","classes","makeStyles","theme","container","display","flexWrap","textField","marginRight","spacing","background","useStyles","noValidate","TextField","id","borderRadius","textAlign","defaultValue","onChange","e","target","value","InputLabelProps","shrink","variant","Description","description","photoDesc","setPhotoDesc","label","placeholder","fullWidth","multiline","rows","margin","ContactWay","contact","contactWay","setContactWay","ReportForm","file","setFile","fileName","setFileName","option","setOption","uploadedFile","setUploadedFile","message","setMessage","uploadPercent","setUploadPercent","doUploadDetail","a","console","log","opt","ts","getTime","fileID","fetch","method","headers","body","JSON","stringify","timestamp","response","json","result","success","onSubmitForm","preventDefault","fID","formData","FormData","append","axios","post","onUploadProgress","progressEvent","parseInt","Math","round","loaded","total","setTimeout","res","data","filePath","status","onSubmit","checked","files","name","htmlFor","src","alt","DialogUpdate","openUpdateDialog","setOpenUpdateDialog","desc","time","handleDialogClose","doUpdateDetail","Button","color","onClick","Dialog","open","onClose","aria-labelledby","aria-describedby","DialogTitle","DialogContent","DialogContentText","DialogActions","autoFocus","onUpdate","DialogDelete","openDelDialog","setOpenDelDialog","onDelete","ExistedReport","reports","setReports","getAllReportFromDB","deleteReportFromDB","updateAllReport","useCallback","then","map","report","infos","useEffect","timestampToSTDTime","date","substr","img","dinner","data-status","Main","openForm","setOpenForm","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2b59f688.chunk.js","sourcesContent":["/*\r\nThis component is to show to upload file message.\r\n*/\r\nimport React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst Message = ({ msg }) => {\r\n  return (\r\n    <div className=\"alert alert-info alert-dismissible fade show\" role=\"alert\">\r\n      {msg}\r\n      <button \r\n        type=\"button\" \r\n        className=\"close\" \r\n        data-dismiss=\"alert\" \r\n        aria-label=\"Close\"\r\n      >\r\n        <span aria-hidden=\"true\">&times;</span>\r\n      </button>\r\n    </div>\r\n  )\r\n}\r\n\r\nMessage.propTypes = {\r\n  msg: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default Message\r\n","/*\r\nThis component is used to show to upload progress bar.\r\n */\r\n\r\nimport React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst Progress = ({percentage}) => {\r\n  return (\r\n    <div className=\"progress\">\r\n      <div \r\n        className=\"progress-bar progress-bar-striped progress-bar-animated bg-info\" \r\n        role=\"progressbar\" \r\n        style={{ width: `${percentage}%`}} \r\n      >\r\n        {percentage}%\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nProgress.propTypes = {\r\n  percentage: PropTypes.number.isRequired\r\n}\r\n\r\nexport default Progress\r\n","import React, { useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nexport default function DateTime(props) {\r\n\r\n  const fullDate = (props.dateTime?new Date(props.dateTime) : new Date());\r\n  const formatted_date = (fullDate.getFullYear()\r\n    + \"-\" + (fullDate.getMonth()<10?\"0\"+(fullDate.getMonth() + 1):fullDate.getMonth())\r\n    + \"-\" + (fullDate.getDate()<10?\"0\"+fullDate.getDate():fullDate.getDate()) \r\n    + \"T\" \r\n    + (fullDate.getHours()<10?\"0\"+fullDate.getHours():fullDate.getHours())\r\n    + \":\" + (fullDate.getMinutes()<10?\"0\"+fullDate.getMinutes():fullDate.getMinutes())\r\n    );\r\n  const [ dateTime, setDateTime ] = useState(formatted_date);\r\n  // const [ label ] = useState(`${props.option} 時間`)\r\n\r\n  const onChangeDateTime = (e) => {\r\n    setDateTime(e.target.value);\r\n    props.onChange(e.target.value);\r\n  }\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    container: {\r\n      display: 'flex',\r\n      flexWrap: 'wrap',\r\n    },\r\n    textField: {\r\n      // marginLeft: theme.spacing(1),\r\n      marginRight: theme.spacing(1),\r\n      width: 220, \r\n      background: 'white',\r\n    },\r\n  }));\r\n\r\n  const classes = useStyles();\r\n  return (\r\n    <form className={classes.container} noValidate>\r\n    <TextField\r\n      id=\"datetime\"\r\n      //label={label}\r\n      style={{ borderRadius: \"5px\", textAlign: \"center\" }}\r\n      type=\"datetime-local\"\r\n      defaultValue={dateTime}\r\n      onChange={onChangeDateTime}\r\n      className={classes.textField}\r\n      InputLabelProps={{\r\n        shrink: true,\r\n      }}\r\n      variant=\"outlined\"\r\n    />\r\n  </form>\r\n  )\r\n}\r\n","import React, { useState } from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nexport default function Description(props) {\r\n\r\n  // Photo Description\r\n\tconst [photoDesc, setPhotoDesc] = useState(props.description);\r\n\r\n  const onDescriptionChange = (e) => {\r\n    setPhotoDesc(e.target.value);\r\n    props.onChange(e.target.value)\r\n  }\r\n\r\n  return (\r\n    \r\n    <div>\r\n      <div className=\"col-mb-4\">\r\n        請形容事件經過:\r\n      </div>\r\n      <TextField\r\n          id=\"description\"\r\n          label=\"請描述遺失物品、時間與地點等以便於尋獲\"\r\n          style={{ background: \"white\", borderRadius: \"5px\" }}\r\n          placeholder={photoDesc}\r\n          onChange={onDescriptionChange} \r\n          fullWidth\r\n          multiline\r\n          rows=\"4\"\r\n          margin=\"normal\"\r\n          InputLabelProps={{\r\n            shrink: true,\r\n          }}\r\n          variant=\"filled\"\r\n        />\r\n    </div>\r\n  )\r\n}\r\n","import React, { useState } from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nexport default function ContactWay(props) {\r\n\r\n  // The way to contact\r\n  const [contactWay, setContactWay] = useState(props.contact);\r\n\r\n  const onContactWayChange = (e) => {\r\n    setContactWay(e.target.value);\r\n    props.onChange(e.target.value)\r\n  }\r\n\r\n  return (\r\n    \r\n    <div>\r\n      <div className=\"col-mb-4\">\r\n        請留下聯絡方式:\r\n      </div>\r\n      <TextField\r\n          id=\"contact-way\"\r\n          label=\"姓名及電話/電郵地址皆可接受\"\r\n          style={{ background: \"white\", borderRadius: \"5px\" }}\r\n          placeholder={contactWay}\r\n          onChange={onContactWayChange} \r\n          //helperText=\"請留下姓名及聯絡方式以便於聯絡\"\r\n          fullWidth\r\n          margin=\"normal\"\r\n          InputLabelProps={{\r\n            shrink: true,\r\n          }}\r\n          variant=\"filled\"\r\n        />\r\n    </div>\r\n  )\r\n}\r\n","import React, { Fragment, useState } from 'react';\r\nimport Message from './Message';\r\nimport Progress from './Progress';\r\nimport DateTime from './DateTime';\r\nimport Description from './Description';\r\nimport ContactWay from './ContactWay';\r\nimport axios from 'axios';\r\n\r\nconst ReportForm = () => {\r\n\r\n\t// File Object\r\n\tconst [file, setFile] = useState('');\r\n\t// File Name\r\n\tconst [fileName, setFileName] = useState('請選擇要上傳的照片');\r\n\t// Photo Description\r\n\tconst [photoDesc, setPhotoDesc] = useState('例: 本人於今天早上9時遺失一個錢包...');\r\n\t// The way to contact\r\n\tconst [contactWay, setContactWay] = useState('12345678/abc@example.com...');\r\n\t// Is it found or lost item? 0 = lost, 1 = found\r\n\tconst [option, setOption] = useState('拾獲');\r\n\t// Time finding or losing\r\n\tconst [dateTime, setDateTime] = useState(new Date());\r\n\t// Uploaded File\r\n\tconst [uploadedFile, setUploadedFile] = useState({});\r\n\t// Message\r\n\tconst [message, setMessage] = useState('');\r\n\t// Upload Progress\r\n\tconst [uploadPercent, setUploadPercent] = useState(0);\r\n\r\n\t// Change Function\r\n\tconst onChangeFile = (e) => {\r\n\t\tsetFile(e.target.files[0]);\r\n\t\tsetFileName(e.target.files[0].name);\r\n\t}\r\n\r\n\tconst onChangePhotoDesc = (e) => {\r\n\t\tsetPhotoDesc(e);\r\n\t}\r\n\r\n\tconst onChangeContactWay = (e) => {\r\n\t\tsetContactWay(e);\r\n\t}\r\n\r\n\tconst onChangeOption = (e) => {\r\n\t\tsetOption(e.target.value);\r\n\t}\r\n\r\n\tconst onChangeDateTime = (e) => {\r\n\t\tsetDateTime(e);\r\n\t}\r\n\r\n\tconst resetForm = () => {\r\n\t\tsetFile('');\r\n\t\tsetFileName('請選擇要上傳的照片');\r\n\t\tsetPhotoDesc('例: 本人於今天早上9時遺失一個錢包...');\r\n\t\tsetContactWay('12345678/abc@example.com...');\r\n\t\tsetOption('拾獲');\r\n\t}\r\n\r\n\tconst doUploadDetail = async() => {\r\n    if(photoDesc === '' || photoDesc === null) {\r\n      return;\r\n    }\r\n    if(contactWay === '' || contactWay === null) {\r\n      return;\r\n\t\t}\r\n\t\tconsole.log('uploadDetail is called.');\r\n\t\t\r\n\t\t// convert text to int before upload to db.\r\n\t\tlet opt = (option === '拾獲') ? 1 : 0;\r\n\r\n\t\t// convert date time to timestamp before upload to db.\r\n\t\tlet ts = new Date(dateTime).getTime()/1000;\r\n\r\n\t\tlet fileID = -1;\r\n\r\n    try {\r\n      let response = await fetch('/api/addReport', {\r\n        method: 'post',\r\n        headers: {\r\n          'Accept':'application/json',\r\n          'Content-Type':'application/json'\r\n        },\r\n        body: JSON.stringify({\r\n\t\t\t\t\toption: opt,\r\n      \t\ttimestamp: ts,\r\n      \t\tdescription: photoDesc,\r\n      \t\tcontact: contactWay\r\n        })\r\n      });\r\n\r\n      let result = await response.json();\r\n      if(result && result.success === true) {\r\n\t\t\t\tfileID = result.id;\r\n\t\t\t\tconsole.log(fileID);\r\n      }\r\n      else {\r\n\t\t\t\tsetMessage(result.msg);\r\n\t\t\t\tfileID = -1;\r\n      }\r\n    }\r\n    catch(e) {\r\n      console.log(e);\r\n      resetForm();\r\n\t\t}\r\n\t\treturn fileID;\r\n  }\r\n\r\n\tconst onSubmitForm = async (e) => {\r\n\t\te.preventDefault();\r\n\t\t// Upload Detail to database & Assign File ID.\r\n\t\tlet fID = doUploadDetail();\r\n\t\t// Detail is uploaded to db successfully.\r\n\t\tconsole.log(fID);\r\n\t\tif(fID !== -1) {\r\n\t\t\tconst formData = new FormData();\r\n\t\t\tformData.append('file', file);\r\n\t\t\ttry {\r\n\t\t\t\tconst res = await axios.post('/api/upload', formData, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'Content-Type': 'multiport/form-data'\r\n\t\t\t\t\t},\r\n\t\t\t\t\tonUploadProgress: progressEvent => {\r\n\t\t\t\t\t\tsetUploadPercent(parseInt(Math.round((progressEvent.loaded * 100) /\r\n\t\t\t\t\t\tprogressEvent.total)));\r\n\r\n\t\t\t\t\t\t// Clear Percentage after 10s.\r\n\t\t\t\t\t\tsetTimeout(() => setUploadPercent(0), 3000);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t});\r\n\t\t\t\tconsole.log(res.data);\r\n\t\t\t\tconst { fileName, filePath } = res.data;\r\n\t\t\t\tsetUploadedFile({ fileName, filePath });\r\n\t\t\t\t// console.log(uploadedFile);\r\n\t\t\t\tsetMessage('File Uploaded!');\r\n\t\t\t}\r\n\t\t\tcatch (err) {\r\n\t\t\t\tif(err.response.status === 500) {\r\n\t\t\t\t\tsetMessage('There is a problem with the server. Please try again later');\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tsetMessage(err.response.data.msg);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} \r\n\t\telse {\r\n\t\t\tsetMessage('There is a problem uploading detail. Please try again later');\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t{ message? <Message msg={message} /> : null }\r\n\t\t\t<form onSubmit={onSubmitForm}>\r\n\t\t\t\t<div onChange={onChangeOption}>\r\n\t\t\t\t\t<label>請選擇回報類型:&nbsp;</label>\r\n\t\t\t\t\t<input type='radio' value='拾獲' checked={option === '拾獲'}/> 拾獲&nbsp;&nbsp;\r\n\t\t\t\t\t<input type='radio' value='遺失' checked={option === '遺失'}/> 遺失&nbsp;&nbsp;\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"multiline mb-4\">\r\n\t\t\t\t\t<div className=\"col-mb-4\">{option}時間:</div>\r\n      \t\t\t<DateTime\tonChange={onChangeDateTime} option={option} />\r\n    \t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Description description={photoDesc} \r\n\t\t\t\t\t\tonChange={onChangePhotoDesc}/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<br/>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<ContactWay \r\n\t\t\t\t\t\tcontact={contactWay}\r\n\t\t\t\t\t\tonChange={onChangeContactWay}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<br/>\r\n\t\t\t\t{ uploadPercent > 0 ?\r\n\t\t\t\t\t<Progress percentage={uploadPercent} /> \r\n\t\t\t\t: null }\r\n\t\t\t\t<div className='custom-file mb-4'>\r\n\t\t\t\t\t<input type='file' className='custom-file-input' id='customFile' onChange={onChangeFile}/>\r\n\t\t\t\t\t<label className='custom-file-label' htmlFor='customFile'>\r\n\t\t\t\t\t\t{fileName}\r\n\t\t\t\t\t</label>\r\n\t\t\t\t</div>\r\n\t\t\t\t<input type='submit' value='回報' className=\"btn btn-primary btn-block mt-4\"/>\r\n\t\t\t</form>\r\n\t\t\t{ uploadedFile.fileName ? \r\n\t\t\t\t<div className='row mt-5'>\r\n\t\t\t\t\t<div className='col-md-6 m-auto'>\r\n\t\t\t\t\t\t<h3 className=\"text-center\">檔案: { uploadedFile.fileName }</h3>\r\n\t\t\t\t\t\t{/* <h4 className=\"text-left\">回報類型: { uploadedFile.option }物件</h4>\r\n\t\t\t\t\t\t<h4 className=\"text-left\">回報時間: { uploadedFile.dateTime }</h4>\r\n\t\t\t\t\t\t<h4 className=\"text-left\">物件形容: { uploadedFile.photoDesc }</h4>\r\n\t\t\t\t\t\t<h4 className=\"text-left\">聯絡方式: { uploadedFile.contactWay }</h4> */}\r\n\t\t\t\t\t\t{/* <h3 className=\"text-center\">{ uploadedFile.fileName }</h3> */}\r\n\t\t\t\t\t\t<img style={{ width: '100%' }} src={uploadedFile.filePath} alt='' />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div> \r\n\t\t\t\t: null }\r\n\t\t</Fragment>\r\n\t);\r\n};\r\n\r\nexport default ReportForm;","export default __webpack_public_path__ + \"static/media/dinner.307fa8bb.png\";","import React, { useState } from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Message from './Message';\r\nimport DateTime from './DateTime';\r\nimport Description from './Description';\r\nimport ContactWay from './ContactWay';\r\n\r\n\r\nconst DialogUpdate = (props) => {\r\n\r\n  // Opens Delete Confirmation Dialog\r\n  const [openUpdateDialog, setOpenUpdateDialog] = useState(false);\r\n  // Photo Description\r\n\tconst [photoDesc, setPhotoDesc] = useState(props.desc);\r\n\t// The way to contact\r\n\tconst [contactWay, setContactWay] = useState(props.contact);\r\n\t// Is it found or lost item? 0 = lost, 1 = found\r\n\tconst [option, setOption] = useState(props.option);\r\n\t// Time finding or losing\r\n\tconst [dateTime, setDateTime] = useState(props.time);\r\n\t// Message\r\n\tconst [message, setMessage] = useState('');\r\n\r\n  // Change Callback Function\r\n  const handleDialogOpen = () => {\r\n    setOpenUpdateDialog(true);\r\n  }\r\n\r\n  const handleDialogClose = () => {\r\n    setOpenUpdateDialog(false);\r\n  }\r\n\r\n  const handleDialogUpdate = (e) => {\r\n    setOpenUpdateDialog(false);\r\n    // console.log(props.id);\r\n    doUpdateDetail(props.id);\r\n    props.onUpdate();\r\n  }\r\n\r\n\tconst onChangePhotoDesc = (e) => {\r\n\t\tsetPhotoDesc(e);\r\n\t}\r\n\r\n\tconst onChangeContactWay = (e) => {\r\n\t\tsetContactWay(e);\r\n\t}\r\n\r\n\tconst onChangeOption = (e) => {\r\n\t\tsetOption(e.target.value);\r\n\t}\r\n\r\n\tconst onChangeDateTime = (e) => {\r\n\t\tsetDateTime(e);\r\n\t}\r\n\r\n\tconst resetForm = () => {\r\n\t\tsetOption(props.option);\r\n\t\tsetPhotoDesc(props.desc);\r\n\t\tsetContactWay(props.contact);\r\n\t\t\r\n  }\r\n\r\n  const doUpdateDetail = async(id) => {\r\n    if(photoDesc === '' || photoDesc === null) {\r\n      // photo description must not be blank.\r\n      return;\r\n    }\r\n    if(contactWay === '' || contactWay === null) {\r\n      // contact way must not be blank.\r\n      return;\r\n    }\r\n    console.log(\"Update Report is called. ID: \"+id);\r\n    // convert text to int before upload to db.\r\n\t\tlet opt = (option === '拾獲') ? 1 : 0;\r\n\r\n\t\t// convert date time to timestamp before upload to db.\r\n\t\tlet ts = new Date(dateTime).getTime()/1000;\r\n\r\n\t\tlet fileID = -1;\r\n\r\n    try {\r\n      let res = await fetch('/api/updateReport', {\r\n        method: 'post',\r\n        headers: {\r\n          'Accept':'application/json',\r\n          'Content-Type':'application/json'\r\n        },\r\n        body: JSON.stringify({\r\n\t\t\t\t\toption: opt,\r\n      \t\ttimestamp: ts,\r\n      \t\tdescription: photoDesc,\r\n          contact: contactWay,\r\n          id: id\r\n        })\r\n      });\r\n\r\n      let result = await res.json();\r\n      if(result && result.success === true) {\r\n\t\t\t\tfileID = result.id;\r\n      }\r\n      else {\r\n\t\t\t\tsetMessage(result.msg);\r\n\t\t\t\tfileID = -1;\r\n      }\r\n    }\r\n    catch(e) {\r\n      console.log(e);\r\n      resetForm();\r\n\t\t}\r\n\t\treturn fileID;\r\n  }\r\n  \r\n  return (\r\n    <div>\r\n      <Button \r\n        variant=\"contained\" \r\n        color=\"primary\" \r\n        value=\"Update\"\r\n        id={props.id} \r\n        onClick={handleDialogOpen}>\r\n          更新\r\n      </Button>\r\n      <Dialog\r\n        open={openUpdateDialog}\r\n        onClose={handleDialogClose}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n      >\r\n        <DialogTitle id=\"alert-dialog-title\">更新資訊</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText id=\"alert-dialog-description\">\r\n            請更新報告資訊或修正錯誤，若誤點可以點擊表格以外地方收起此對話框。\r\n          </DialogContentText>\r\n          { message? <Message msg={message} /> : null }\r\n          <div onChange={onChangeOption}>\r\n\t\t\t\t\t<label>請選擇回報類型:&nbsp;</label>\r\n            <input type='radio' value='拾獲' checked={option === '拾獲'}/> 拾獲&nbsp;&nbsp;\r\n            <input type='radio' value='遺失' checked={option === '遺失'}/> 遺失&nbsp;&nbsp;\r\n          </div>\r\n          <div className=\"multiline mb-4\">\r\n            <div className=\"col-mb-4\">{option}時間:</div>\r\n              <DateTime\tonChange={onChangeDateTime} dateTime={dateTime} option={option} />\r\n          </div>\r\n          <div>\r\n            <Description description={photoDesc} \r\n              onChange={onChangePhotoDesc}/>\r\n          </div>\r\n          <br/>\r\n          <div>\r\n            <ContactWay \r\n              contact={contactWay}\r\n              onChange={onChangeContactWay}\r\n            />\r\n          </div>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button variant=\"outlined\" onClick={handleDialogClose} color=\"primary\" autoFocus>\r\n            取消\r\n          </Button>\r\n          <Button variant=\"outlined\" value={props.id} onClick={handleDialogUpdate} color=\"secondary\">\r\n            更新\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default DialogUpdate;\r\n","import React, {useState} from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nconst DialogDelete = props => {\r\n\r\n  // Opens Delete Confirmation Dialog\r\n  const [openDelDialog, setOpenDelDialog] = useState(false);\r\n\r\n  const handleDialogOpen = () => {\r\n    setOpenDelDialog(true);\r\n  }\r\n\r\n  const handleDialogClose = () => {\r\n    setOpenDelDialog(false);\r\n  }\r\n\r\n  const handleDialogDelete = (e) => {\r\n    setOpenDelDialog(false);\r\n    props.onDelete();\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Button \r\n        variant=\"contained\" \r\n        color=\"secondary\" \r\n        value=\"Delete\"\r\n        id={props.id} \r\n        onClick={handleDialogOpen}>\r\n          刪除\r\n      </Button>\r\n      <Dialog\r\n        open={openDelDialog}\r\n        onClose={handleDialogClose}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n      >\r\n        <DialogTitle id=\"alert-dialog-title\">確定要刪除這份報告嗎?</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText id=\"alert-dialog-description\">\r\n            報告一旦被刪除便無法復原。\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button variant=\"contained\" color=\"primary\" onClick={handleDialogClose} autoFocus>\r\n            取消\r\n          </Button>\r\n          <Button variant=\"contained\" color=\"secondary\" value={props.id} onClick={handleDialogDelete}>\r\n            刪除\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default DialogDelete;\r\n","import React, { useState, useEffect, useCallback } from 'react';\r\nimport dinner from './dinner.png';\r\nimport DialogUpdate from './DialogUpdate';\r\nimport DialogDelete from './DialogDelete';\r\n\r\nconst ExistedReport = () => {\r\n\r\n  // const [images, setImages] = useState([]);\r\n  const [reports, setReports] = useState([]);\r\n\r\n  const getAllReportFromDB = async() => {\r\n    let response = await fetch('/api/findAllReport', {\r\n      method: 'post',\r\n      headers: {\r\n        'Accept':'application/json',\r\n        'Content-Type':'application/json'\r\n      }\r\n    });\r\n\r\n    let data = await response.json();\r\n    if(data && data.success === true) {\r\n      // console.log(\"From Existed Report.js...\");\r\n      return data.data;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  const deleteReportFromDB = async(id) => {\r\n    let response = await fetch('/api/deleteReport', {\r\n      method: 'post',\r\n      headers: {\r\n        'Accept':'application/json',\r\n        'Content-Type':'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        id: id\r\n      })\r\n    });\r\n\r\n    let data = await response.json();\r\n    if(data && data.success === true) {\r\n      console.log(data.msg);\r\n    }\r\n    return null;\r\n  }\r\n\r\n  const onUpdateReport = (e) => {\r\n    console.log(\"Updated Report ID: \" + e);\r\n\r\n  }\r\n\r\n  const onDeleteReport = (e) => {\r\n    // console.log(\"Deleted Report ID: \" + e);\r\n    deleteReportFromDB(e);\r\n  }\r\n\r\n  const updateAllReport = useCallback(() => {\r\n    getAllReportFromDB()\r\n      .then(res =>\r\n        res.map(report => {\r\n            return {\r\n              id: report.id,\r\n              option: report.option,\r\n              timestamp: report.timestamp,\r\n              description: report.description,\r\n              contact: report.contact\r\n            };\r\n        })\r\n      )\r\n      .then(infos => setReports(infos));\r\n  }, []);\r\n  \r\n  useEffect(() => {\r\n    updateAllReport();\r\n  }, [updateAllReport, reports]);\r\n\r\n  const timestampToSTDTime = (timestamp) => {\r\n\r\n    let date = new Date(timestamp);\r\n\r\n    let year = date.getFullYear();\r\n    let month = date.getMonth() + 1;\r\n    let day = date.getDate();\r\n\r\n    // Hours part from the timestamp\r\n    let hours = date.getHours();\r\n    // Minutes part from the timestamp\r\n    let minutes = \"0\" + date.getMinutes();\r\n\r\n    let STDTime = year + '-' + month + '-' + day + ' ' + hours + ':' + minutes.substr(-2);\r\n    return STDTime;\r\n  }\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      {reports.map(img => (\r\n        <div className=\"box\">\r\n          <div className=\"imgBox\">\r\n            <img src={dinner} alt=\"\"></img>\r\n            {/* pass the id from here instead of returning from children - Faster */}\r\n            <DialogUpdate \r\n              id={img.id}\r\n              option={img.option===0?'遺失':'拾獲'}\r\n              time={img.timestamp}\r\n              desc={img.description}\r\n              contact={img.contact}\r\n              onUpdate={() => onUpdateReport(img.id)}\r\n            />\r\n            {/* pass the id from here instead of returning from children - Faster */}\r\n            <DialogDelete \r\n              id={img.id} \r\n              onDelete={() => onDeleteReport(img.id)}\r\n            /> \r\n          </div>\r\n          <div className=\"details\">\r\n            <div className=\"content\">\r\n              <h5 data-status={img.option}><b>{img.option===0?\"失\":\"報\"}</b> 於 {timestampToSTDTime(img.timestamp)}</h5>\r\n              <p>{img.description}，\r\n              {img.option===0?\"如拾獲\":\"欲取回\"}請聯絡: {img.contact}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ExistedReport;","import React, { useState } from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nimport ReportForm from './ReportForm';\r\nimport ExistedReport from './ExistedReport';\r\nimport './Main.css';\r\n\r\nconst Main = () => {\r\n\r\n  const [openForm, setOpenForm] = useState(false);\r\n\r\n  const handleFormOpen = () => {\r\n    setOpenForm(true);\r\n  }\r\n\r\n  const handleFormClose = () => {\r\n    setOpenForm(false);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div className='form'>\r\n        <Button variant=\"contained\" color=\"primary\" onClick={handleFormOpen}>\r\n          回報\r\n        </Button>\r\n        <Dialog open={openForm} onClose={handleFormClose} aria-labelledby=\"form-dialog-title\">\r\n          <DialogTitle id=\"form-dialog-title\">回報遺失/拾獲物品</DialogTitle>\r\n          <DialogContent>\r\n            <DialogContentText>\r\n              若遺失物品，請填寫遺失物品的經過、時間及地點，以便更快尋回失物。<br/>\r\n              若拾獲物品，請形容物品特徵，並留下聯絡方式以便失主聯絡。\r\n            </DialogContentText>\r\n            <ReportForm />\r\n          </DialogContent>\r\n        </Dialog>\r\n      </div>\r\n      <div className='report'>\r\n        <ExistedReport />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Main;\r\n","import React from 'react';\nimport Main from './components/Main';\nimport './App.css';\n\nconst App = () => (\n  <div className='container mt-4'>\n    <h4 className=\"display-4 text-center mb-4\">\n      <i className=\"fab fa-react\"></i> 失物互助\n    </h4>\n    <Main />\n  </div>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}